(this["webpackJsonpdishes-app"]=this["webpackJsonpdishes-app"]||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var r=a(123),n=a(0),i=a(38),c=a.n(i),o=a(125),l=a(39),s=a(119),d=a(121),u=a(13),b=a(85),p=a(112),h=a(68),j=a(3),m=function(e){var t=Object(b.c)().toggleColorMode,a=Object(b.d)("dark","light"),r=Object(b.d)(h.a,h.b);return Object(j.jsx)(p.a,Object(u.a)({size:"md",fontSize:"lg",variant:"ghost",color:"current",marginLeft:"2",onClick:t,icon:Object(j.jsx)(r,{}),"aria-label":"Switch to ".concat(a," mode")},e))},v=a(120),O=a(66),f=a.n(O),x=a(78),g=a(4),w=a(124),y=a(83),S=a(27),E=a(40),z=a(36),k=function(e){var t=e.name,a=Object(E.a)(e,["name"]),r=Object(S.b)(t,{subscription:{touched:!0,error:!0}}).meta,n=r.error,i=r.touched;return Object(j.jsx)(z.a,Object(u.a)(Object(u.a)({},a),{},{isInvalid:n&&i}))},C=a(116),D=a(117),N=a(115),I=a(126),M=function(e){var t=e.name,a=Object(S.b)(t,{subscription:{error:!0}}).meta.error;return Object(j.jsxs)(N.a,{children:[Object(j.jsx)(I.a,{mr:1})," ",a]})},_=function(e){var t=e.name,a=e.label,r=e.placeholder,n=e.parser,i=e.validator,c=e.type,o=void 0===c?"text":c,l=Object(E.a)(e,["name","label","placeholder","parser","validator","type"]),s=Object(S.b)(t,{parse:n,validate:i}),d=s.input,b=s.meta;return r=r||a,Object(j.jsxs)(k,Object(u.a)(Object(u.a)({name:t},l),{},{children:[Object(j.jsx)(C.a,{htmlFor:t,children:a}),Object(j.jsx)(D.a,Object(u.a)(Object(u.a)({},d),{},{isInvalid:b.error&&b.touched,id:t,placeholder:r,type:o,value:d.value||""})),Object(j.jsx)(M,{name:t})]}))},F=a(118),P=function(e){var t=e.name,a=e.label,r=e.validator,n=e.children,i=e.placeholder,c=Object(E.a)(e,["name","label","validator","children","placeholder"]),o=Object(S.b)(t,{validate:r}),l=o.input,s=o.meta;return i=i||a,Object(j.jsxs)(k,Object(u.a)(Object(u.a)({name:t},c),{},{children:[Object(j.jsx)(C.a,{htmlFor:t,children:a}),Object(j.jsx)(F.a,Object(u.a)(Object(u.a)({placeholder:i,id:t},l),{},{isInvalid:s.error&&s.touched,children:n})),Object(j.jsx)(M,{name:t})]}))},T=function(e,t){return e?(e=e.trim(),parseInt(e)):e},W=function(e,t){return e?(e=e.trim().replace(/[^\d]/g,"")).length<=2?e:e.length<=4?"".concat(e.slice(0,2),":").concat(e.slice(2)):"".concat(e.slice(0,2),":").concat(e.slice(2,4),":").concat(e.slice(4,6)):e},A=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Enter a valid number";return function(r,n,i){return r?(r=parseInt(r),isNaN(r)||r>t||r<e?a:void 0):a}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Field is required";return function(t,a,r){if(!t)return e}},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Enter a valid field";return function(a,r,n){return a&&e.test(a)?void 0:t}},$={pizza:[{name:"no_of_slices",type:"number",label:"Number of pizza slices",placeholder:"1",parser:T,validator:A(1,99,"Enter a valid number of slices between 1 and 99")},{name:"diameter",type:"number",label:"Diameter (in cm)",placeholder:"22",parser:function(e,t){return e?(e=e.trim(),parseFloat(e.replace(",","."))):e},validator:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Enter a valid number";return function(r,n,i){return r?(r=parseFloat(r),isNaN(r)||r>t||r<e?a:void 0):a}}(10,40,"Enter a valid diameter size between 10.0 and 40.0")}],sandwich:[{name:"slices_of_bread",type:"number",label:"Number of bread slices",placeholder:"1",parser:T,validator:A(1,99,"Enter a valid number of slices between 1 and 99")}],soup:[{name:"spiciness_scale",type:"number",label:"Scale of spiciness (1-10)",placeholder:"1",parser:T,validator:A(1,10,"Enter a valid number of spiciness between 1 and 10")}]},q=function(){var e=Object(n.useState)(),t=Object(g.a)(e,2),a=t[0],r=t[1],i=Object(w.a)(),c=function(){var e=Object(x.a)(f.a.mark((function e(t,a){var n,c,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l="dishes",s=t,d=void 0,fetch("".concat("https://frosty-wood-6558.getsandbox.com:443","/").concat(l),Object(u.a)({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)},d));case 3:return n=e.sent,e.next=6,n.json();case 6:if(c=e.sent,n.ok){e.next=12;break}return o=c||n.status,console.log("error",o),i({title:"Error",description:"Error creating dish: ".concat(o.type?o.type:o),status:"error",duration:5e3}),e.abrupt("return");case 12:i({title:"Dish created",description:"Dish has been successfully created!",status:"success",duration:5e3}),a.restart(),r(void 0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),i({title:"Error",description:"Error creating dish: ".concat(e.t0),status:"error",duration:5e3});case 20:case"end":return e.stop()}var l,s,d}),e,null,[[0,17]])})));return function(t,a){return e.apply(this,arguments)}}(),o=function(e){r($[e.target.value])};return Object(j.jsx)(S.a,{onSubmit:c,render:function(e){var t=e.handleSubmit,r=e.submitting;return Object(j.jsxs)(s.a,{p:4,mt:4,mb:2,textAlign:"left",as:"form",onSubmit:t,children:[Object(j.jsx)(_,{name:"name",label:"Dish name",placeholder:"Enter dish name",validator:R(new RegExp(/^[a-zA-Z\s]{3,30}$/),"Enter a valid dish name")}),Object(j.jsx)(_,{name:"preparation_time",label:"Preparation time",placeholder:"00:00:00",mt:4,parser:W,validator:R(new RegExp(/^[0-9]+[:][0-5][0-9][:][0-5][0-9]$/),"Enter valid preparation time")}),Object(j.jsxs)(P,{mt:4,name:"type",label:"Type",placeholder:"Select dish type",onChange:o,validator:J("Dish type is required"),children:[Object(j.jsx)("option",{value:"pizza",children:"\ud83c\udf55 Pizza"}),Object(j.jsx)("option",{value:"soup",children:"\ud83e\udd63 Soup"}),Object(j.jsx)("option",{value:"sandwich",children:"\ud83e\udd6a Sandwich"})]}),a&&a.map((function(e,t){return Object(j.jsx)(_,{name:e.name,label:e.label,type:e.type,placeholder:e.placeholder,parser:e.parser,validator:e.validator,mt:4},t)})),Object(j.jsx)(y.a,{width:"full",type:"submit",mt:4,isLoading:r,loadingText:"Submitting",colorScheme:"blue",spinnerPlacement:"end",children:"Submit"})]})}})},B=function(){return Object(j.jsxs)(s.a,{align:"center",p:2,m:"auto auto",width:"full",maxWidth:"500px",boxShadow:"lg",minHeight:"400px",borderRadius:8,borderWidth:1,children:[Object(j.jsx)(v.a,{children:"Dish form"}),Object(j.jsx)(q,{})]})},H=function(){return Object(j.jsx)(o.a,{theme:l.theme,children:Object(j.jsx)(s.a,{textAlign:"center",fontSize:"xl",children:Object(j.jsxs)(d.a,{minH:"100vh",p:4,width:"full",flexDirection:"column",children:[Object(j.jsx)(m,{alignSelf:"flex-end"}),Object(j.jsx)(B,{})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=a(122),Z=Object(L.a)({config:{initialColorMode:"dark",useSystemColorMode:!1}});c.a.render(Object(j.jsxs)(n.StrictMode,{children:[Object(j.jsx)(r.a,{initialColorMode:Z.config.initialColorMode}),Object(j.jsx)(H,{})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[101,1,2]]]);
//# sourceMappingURL=main.748f7989.chunk.js.map